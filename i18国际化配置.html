<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		
		<div>
			<select id="select" name="s" class="select">
				<option value ="cn">中文</option>
				<option value ="en">英文</option>
				<option value ="ja">日文</option>
			</select>
		</div>
		
		<script src="lib/jquery/1.9.1/jquery.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/jquery.i18n.properties-min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			var oComFn = {
				//i18国际化设置,langCode语言文件语言标识码
				loadI18_fn:function(langCode,callback){
					var _this = this;
					jQuery.i18n.properties({
						name:'language',
						path:"lang/",
						mode:'map',
						language:langCode,//国家代号 name+language刚好组成属性文件名：strings+zh -> strings_cn.properties ,如先默认加载中文的配置文件language_cn.properties文件
						callback: function() {// 加载成功后设置显示内容
							if(callback) callback();
						},
					})
				}
			};
			
			var lan = localStorage.getItem("i18_test") || 'cn';
			oComFn.loadI18_fn(lan,function(){
				alert(jQuery.i18n.prop("dear_no_data"))
			});
			
			$("#select").on("change",function(){
				localStorage.setItem("i18_test",$(this).val());
				setTimeout(function(){window.location.reload()},150)
			});
		</script>
	</body>
</html>
